sms_transport:
    class: vumi.transports.telnet.AddressedTelnetServerTransport
    config:
        telnet_port: 8080
        transport_type: 'sms'
        middleware:
            - tagging_mw: vumi.middleware.tagger.TaggingMiddleware

        tagging_mw:
            incoming:
                addr_pattern: ^(.*)$
                tagpool_template: 'longcode_tagpool'
                tagname_template: \1
            outgoing:
                tagname_pattern: .*
                msg_template: {}

ussd_transport:
    class: vumi.transports.telnet.AddressedTelnetServerTransport
    config:
        telnet_port: 8081
        transport_type: 'ussd'
        middleware:
            - tagging_mw: vumi.middleware.tagger.TaggingMiddleware

        tagging_mw:
            incoming:
                addr_pattern: ^(.*)$
                tagpool_template: 'ussd_tagpool'
                tagname_template: \1
            outgoing:
                tagname_pattern: .*
                msg_template: {}

sms_transport_2:
    class: vumi.transports.telnet.AddressedTelnetServerTransport
    config:
        telnet_port: 8082
        transport_type: 'sms'
        middleware:
            - tagging_mw: vumi.middleware.tagger.TaggingMiddleware

        tagging_mw:
            incoming:
                addr_pattern: ^(.*)$
                tagpool_template: 'longcode_tagpool_2'
                tagname_template: \1
            outgoing:
                tagname_pattern: .*
                msg_template: {}
